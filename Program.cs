using System.Collections.Generic;

namespace CSHO
{
    class Program
    {
        static void Main(string[] args)
        {  
            string path = "S:\\Extracted roms\\WALLE\\DATAmod\\files\\WALE\\Global_Scenes\\WMNS.ho";//"S:\\Extracted roms\\ToS WII\\DATAmod\\files\\SB09\\Levels\\SHUB.ho";
            string output = path;//"C:\\Users\\felix\\Desktop\\SHUB.ho";
            bool endian = false;
            //string path = "C:\\Users\\felix\\Downloads\\APDM.ho";
            BinaryReaderEndian fileread = new BinaryReaderEndian(path, endian);
            Archive test = new Archive(fileread);
            fileread.Dispose();
            
            //List<byte> newdata = new List<byte>(new byte[] {0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20});
            //((Parcel)((Table)((Table)test.MasterTable).Parcels[0]).Parcels[0]).ParcelTOCs[0].Entries[0].data = newdata;

            test.Header.sectorSize = 0x800;

            test.Update();

            BinaryWriterEndian filewrite = new BinaryWriterEndian(output, endian);
            test.Save(filewrite);
            filewrite.Dispose();
        }
    }
}
